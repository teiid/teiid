<assembly>
  
  <id>wildfly-dist</id>
  
  <formats>
    <format>zip</format>
  </formats>
  
  <includeBaseDirectory>false</includeBaseDirectory>
  <baseDirectory>modules</baseDirectory>
  <moduleSets>
	  <moduleSet>
	      <useAllReactorProjects>true</useAllReactorProjects>
	      <includes>
	        <include>org.jboss.teiid:teiid-olingo</include>   
	      </includes>
	      <binaries>
	        <attachmentClassifier>odata4</attachmentClassifier>
	        <includeDependencies>false</includeDependencies>
	        <unpack>false</unpack>
	        <outputDirectory>${odata-war-directory}</outputDirectory>
	        <outputFileNameMapping>teiid-olingo-odata4.war</outputFileNameMapping>
	      </binaries>
	  </moduleSet>
  </moduleSets>
  <fileSets>
		<fileSet>
			<directory>kits/wildfly/modules</directory>
			<outputDirectory>${wildfly-module-root}</outputDirectory>
			<filtered>true</filtered>
			<includes>
				<include>**/*</include>
			</includes>
		</fileSet>
  </fileSets>  
  <dependencySets>
    <dependencySet>
      <outputDirectory>${wildfly-module-root}/org/jboss/teiid/olingo/main</outputDirectory>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <includes>
        <include>org.jboss.teiid:teiid-olingo</include>
      </includes>
      <useProjectArtifact>true</useProjectArtifact>
    </dependencySet>      
    <dependencySet>
      <outputDirectory>${wildfly-module-root}/org/apache/olingo/server/main</outputDirectory>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <includes>
        <include>org.jboss.teiid:teiid-olingo-patches</include>
        <include>org.apache.olingo:odata-server-api</include>
        <include>org.apache.olingo:odata-server-core</include>
        <include>org.apache.olingo:odata-server-core-ext</include>
      </includes>
      <useProjectArtifact>false</useProjectArtifact>
    </dependencySet>
    <dependencySet>
      <outputDirectory>${wildfly-module-root}/com/fasterxml/jackson/core/main</outputDirectory>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <includes>
          <include>com.fasterxml.jackson.core:jackson-core</include>
          <include>com.fasterxml.jackson.core:jackson-databind</include>
          <include>com.fasterxml.jackson.core:jackson-annotations</include>
      </includes>
      <useProjectArtifact>false</useProjectArtifact>
    </dependencySet>
    <dependencySet>
      <outputDirectory>${wildfly-module-root}/org/apache/commons/lang/3.3.2</outputDirectory>
      <useTransitiveDependencies>false</useTransitiveDependencies>
      <includes>
        <include>org.apache.commons:commons-lang3</include>
      </includes>
      <useProjectArtifact>false</useProjectArtifact>
    </dependencySet> 
    <dependencySet>
        <outputDirectory>${wildfly-module-root}/com/fasterxml/aalto-xml/main</outputDirectory>
        <useTransitiveDependencies>false</useTransitiveDependencies>
        <includes>
            <include>com.fasterxml:aalto-xml</include>
        </includes>
        <useProjectArtifact>false</useProjectArtifact>
    </dependencySet>         
  </dependencySets>  
  
</assembly>
